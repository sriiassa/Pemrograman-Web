<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Data | Javascript</title>
</head>

<body>
    
    <div id="TampilData"></div>
        
    
<!-- javascript -->
<script>
    const jsHTTP = new XMLHttpRequest();
    jsHTTP.open("GET", "https://webpro.ptov.my.id/api/curduser.php?aksi=get");
    jsHTTP.send();

    jsHTTP.onload = function() {
        const data = JSON.parse(this.responseText);
        console.log(data);
        
        let tx = "<center><h3>List Data</h3>";
        tx += "<a href='index.html'><button>Tambah Data</button></a><br>";
        tx += "<br><table border='1' cellspacing='0' cellpadding='7'><tr><th>#</th><th>Nama</th><th>Email</th><th>Username</th><th>Aksi</th></tr></center>";
        
        let no = 1;
        for(let i=0; i<data.affected; i++) {
            tx += "<tr>"
                tx += "<td>"+ no +"</td>";
                tx += "<td>"+ data.isi[i][0] +"</td>";
                tx += "<td>"+ data.isi[i][1] +"</td>";
                tx += "<td>"+ data.isi[i][2] +"</td>";
                tx += "<td><button><a href='edit.html?id="+ data.isi[i][3] +"'>Edit</a></button> <button><a href='hapus.html?id="+ data.isi[i][3] +"'>Hapus</a></button></td>";
            tx += "</tr>";
            no++;
        }
        tx += "</table>";

        document.getElementById("TampilData").innerHTML = tx;

    }
</script>

</body>
</html>
